(this["webpackJsonpfrontend-assessment"]=this["webpackJsonpfrontend-assessment"]||[]).push([[0],{16:function(e,t,a){},24:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(17),r=a.n(s),i=(a(24),a(6)),u=a(18),d=a.n(u),o=a(3),l=a(19),j="INITIAL",h="STUDENT_SEARCH_NAME",m="STUDENT_SEARCH_TAG",f="STUDENT_ADD_TAG",b=function(e,t){switch(t.type){case j:return O(t);case h:return x(e,t);case m:return p(e,t);case f:return g(e,t);default:return e}},g=function(e,t){var a=Object(l.a)(e.students),n=t.data,c=n.id,s=n.tag,r=c-1,i=a[r];return a[r]=Object(o.a)(Object(o.a)({},i),{},{tags:i.tags.concat(s)}),Object(o.a)(Object(o.a)({},e),{},{students:a})},O=function(e){return{students:e.data.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{fullName:"".concat(e.firstName," ").concat(e.lastName),tags:[]})})),searchName:"",searchTag:""}},p=function(e,t){return Object(o.a)(Object(o.a)({},e),{},{searchTag:t.data})},x=function(e,t){return Object(o.a)(Object(o.a)({},e),{},{searchName:t.data})},N=a(0),v=n.createContext(),T={students:[],searchName:"",searchTag:""},y=function(e){var t=n.useReducer(b,T),a=Object(i.a)(t,2),c=a[0],s=a[1];n.useEffect((function(){d.a.get("https://api.hatchways.io/assessment/students").then((function(e){return e.data.students})).catch(console.error).then((function(e){s({type:j,data:e})}))}),[]);return Object(N.jsx)(v.Provider,{value:{state:c,dispatch:s,onNameSearch:function(e){var t=e.target.value;return s({type:h,data:t})},onTagSearch:function(e){var t=e.target.value;return s({type:m,data:t})},onTagAdd:function(e,t){var a=e.target,n=e.key,c=a.value;"Enter"===n&&""!==c&&c.length<=20&&(s(function(e){if(e)return{type:f,data:e}}({id:t,tag:c})),a.value="")}},children:e.children})},C=(a(16),function(){var e=c.a.useContext(v).onNameSearch;return Object(N.jsx)("section",{className:"fieldbox",children:Object(N.jsx)("input",{"data-testid":"name-search",className:"field",type:"search",placeholder:"Search by name",onChange:e})})}),S=function(){var e=c.a.useContext(v).onTagSearch;return Object(N.jsx)("section",{className:"tagfieldbox",children:Object(N.jsx)("input",{"data-testid":"tag-search",className:"field",type:"search",placeholder:"Search by tag",onChange:e})})},A=(a(44),a(45),function(e){var t=e.id,a=e.tags,n=c.a.useContext(v).onTagAdd;return Object(N.jsxs)("aside",{className:"tag-container",children:[Object(N.jsx)("ul",{className:"unordered",children:null===a||void 0===a?void 0:a.map((function(e,a){return Object(N.jsx)("li",{"data-testid":"tag-item-".concat(t),className:"list",children:Object(N.jsx)("span",{children:e})},a)}))}),Object(N.jsx)("input",{"data-testid":"add-tag-field-".concat(t),onKeyUp:function(e){return n(e,t)},className:"tagInput",type:"text",placeholder:"Add a tag"})]})}),E=function(e){var t=e.pic,a=e.fullName,c=e.email,s=e.company,r=e.skill,u=e.grades,d=e.id,o=e.tags,l=u.map(Number).reduce((function(e,t){return e+t}),0)/u.length,j=u.map((function(e,t){return Object(N.jsxs)("li",{"data-testid":"grade-".concat(d),className:"test-container",children:[Object(N.jsx)("span",{className:"testNumber",children:"Test ".concat(t+1,":")}),Object(N.jsx)("span",{className:"testValue",children:"".concat(e,"%")})]},t)})),h=n.useState("false"),m=Object(i.a)(h,2),f=m[0],b=m[1];return Object(N.jsxs)("main",{"data-testid":"student-".concat(d),className:"card",children:[Object(N.jsx)("section",{className:"image-container",children:Object(N.jsx)("div",{className:"circle",children:Object(N.jsx)("img",{src:t,alt:"student"})})}),Object(N.jsxs)("section",{className:"student-container",children:[Object(N.jsx)("header",{className:"fullname",children:a}),Object(N.jsxs)("article",{className:"profile",children:[Object(N.jsxs)("p",{children:["Email: ",c]}),Object(N.jsxs)("p",{children:["Company: ",s]}),Object(N.jsxs)("p",{children:["Skill: ",r]}),Object(N.jsxs)("p",{"data-testid":"average-".concat(d),children:["Average: ",l,"%"]})]}),Object(N.jsx)("aside",{"data-testid":"grade-list-".concat(d),className:f?"test-container-plus":"test-container-minus",children:Object(N.jsx)("ul",{children:j})}),Object(N.jsx)(A,{id:d,tags:o})]}),Object(N.jsx)("section",{className:"button-container",children:Object(N.jsx)("button",{"data-testid":"button-".concat(d),id:d,onClick:function(e){b(!f)},className:"btn",children:Object(N.jsx)("i",{id:d,className:f?"fa fa-plus":"fa fa-minus","aria-hidden":"true"})})})]})},k=(a(46),function(e){var t=e.searchName,a=e.searchTag,n=e.students,c=w(n,t);return L(c,a)}),w=function(e,t){return t?e.filter((function(e){return e.fullName.toLowerCase().includes(t.toLowerCase())})):e},L=function(e,t){return t?e.filter((function(e){var a=e.tags;return!!a&&a.some((function(e){return e.toLowerCase().includes(t.toLowerCase())}))})):e},D=function(){var e=c.a.useContext(v).state,t=e.students,a=e.searchName,n=e.searchTag,s=k({searchName:a,searchTag:n,students:t});return Object(N.jsx)("section",{className:"container",children:s.map((function(e,t){return Object(N.jsx)(E,{pic:e.pic,fullName:e.fullName,email:e.email,company:e.company,skill:e.skill,grades:e.grades,id:e.id,tags:e.tags},t)}))})},I=function(){return Object(N.jsxs)("main",{"data-testid":"app",className:"App",children:[Object(N.jsx)(C,{}),Object(N.jsx)(S,{}),Object(N.jsx)(D,{})]})},_=(a(47),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,49)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))});r.a.render(Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(y,{children:Object(N.jsx)(I,{})})}),document.getElementById("root")),_()}},[[48,1,2]]]);
//# sourceMappingURL=main.fa21a347.chunk.js.map