(this["webpackJsonpfrontend-assessment"]=this["webpackJsonpfrontend-assessment"]||[]).push([[0],{17:function(e,t,a){},25:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(18),r=a.n(s),i=(a(25),a(20)),o=a(19),l=a.n(o),u=a(2),d=a(8),j="INITIAL",g="STUDENT_SEARCH_NAME",f="STUDENT_SEARCH_TAG",h="STUDENT_ADD_TAG",m="STUDENT_UPDATE_TOGGLE_STATE",b=function(e,t){switch(t.type){case j:return x(t);case g:return v(e,t);case f:return N(e,t);case h:return O(e,t);case m:return p(e,t);default:return e}},O=function(e,t){var a=Object(d.a)(e.students),n=t.data,c=n.id,s=n.tag,r=c-1,i=a[r];return a[r]=Object(u.a)(Object(u.a)({},i),{},{tags:i.tags.concat(s)}),Object(u.a)(Object(u.a)({},e),{},{students:a})},p=function(e,t){var a=Object(d.a)(e.students),n=t.data-1,c=a[n];return a[n]=Object(u.a)(Object(u.a)({},c),{},{toggleState:!c.toggleState}),Object(u.a)(Object(u.a)({},e),{},{students:a})},x=function(e){return{students:e.data.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{fullName:"".concat(e.firstName," ").concat(e.lastName),tags:[],toggleState:!1})})),searchName:"",searchTag:""}},N=function(e,t){return Object(u.a)(Object(u.a)({},e),{},{searchTag:t.data})},v=function(e,t){return Object(u.a)(Object(u.a)({},e),{},{searchName:t.data})},T=a(0),S=n.createContext(),y={students:[],searchName:"",searchTag:""},C=function(e){var t=n.useReducer(b,y),a=Object(i.a)(t,2),c=a[0],s=a[1];n.useEffect((function(){l.a.get("https://api.hatchways.io/assessment/students").then((function(e){return e.data.students})).catch(console.error).then((function(e){s({type:j,data:e})}))}),[]);return Object(T.jsx)(S.Provider,{value:{state:c,dispatch:s,onNameSearch:function(e){var t=e.target.value;return s({type:g,data:t})},onTagSearch:function(e){var t=e.target.value;return s({type:f,data:t})},onTagAdd:function(e,t){var a=e.target,n=e.key,c=a.value;"Enter"===n&&""!==c&&c.length<=20&&(s(function(e){if(e)return{type:h,data:e}}({id:t,tag:c})),a.value="")},onUpdateToggleState:function(e){console.log(e),s(function(e){if(e)return{type:m,data:e}}(e))}},children:e.children})},A=(a(17),function(){var e=c.a.useContext(S).onNameSearch;return Object(T.jsx)("section",{className:"fieldbox",children:Object(T.jsx)("input",{"data-testid":"name-search",className:"field",type:"search",placeholder:"Search by name",onChange:e})})}),E=function(){var e=c.a.useContext(S).onTagSearch;return Object(T.jsx)("section",{className:"tagfieldbox",children:Object(T.jsx)("input",{"data-testid":"tag-search",className:"field",type:"search",placeholder:"Search by tag",onChange:e})})},k=(a(5),function(e){var t=e.pic;return Object(T.jsx)("section",{className:"image-container",children:Object(T.jsx)("div",{className:"circle",children:Object(T.jsx)("img",{src:t,alt:"student"})})})}),_=function(e){var t=e.id,a=(e.handleClick,e.toggleState),n=c.a.useContext(S).onUpdateToggleState;return Object(T.jsx)("section",{className:"button-container",children:Object(T.jsx)("button",{"data-testid":"button-".concat(t),id:t,onClick:function(){return n(t)},className:"btn",children:Object(T.jsx)("i",{id:t,className:a?"fa fa-minus":"fa fa-plus","aria-hidden":"true"})})})},w=(a(45),function(e){var t=e.id,a=e.tags,n=c.a.useContext(S).onTagAdd;return Object(T.jsxs)("aside",{className:"tag-container",children:[Object(T.jsx)("ul",{className:"unordered",children:null===a||void 0===a?void 0:a.map((function(e,a){return Object(T.jsx)("li",{"data-testid":"tag-item-".concat(t),className:"list",children:Object(T.jsx)("span",{children:e})},a)}))}),Object(T.jsx)("input",{"data-testid":"add-tag-field-".concat(t),onKeyUp:function(e){return n(e,t)},className:"tagInput",type:"text",placeholder:"Add a tag"})]})}),D=function(e){var t=e.fullName,a=e.email,n=e.company,c=e.skill,s=e.id,r=e.average,i=e.testGrades,o=e.tags,l=e.toggleState;return Object(T.jsxs)("section",{className:"student-container",children:[Object(T.jsx)("header",{className:"fullname",children:t}),Object(T.jsxs)("article",{className:"profile",children:[Object(T.jsxs)("p",{children:["Email: ",a]}),Object(T.jsxs)("p",{children:["Company: ",n]}),Object(T.jsxs)("p",{children:["Skill: ",c]}),Object(T.jsxs)("p",{"data-testid":"average-".concat(s),children:["Average: ",r,"%"]})]}),Object(T.jsx)("aside",{"data-testid":"grade-list-".concat(s),className:l?"test-container-expanded":"test-container-collapsed",children:Object(T.jsx)("ul",{children:i})}),Object(T.jsx)(w,{id:s,tags:o})]})},L=function(e){var t=e.pic,a=e.fullName,n=e.email,c=e.company,s=e.skill,r=e.grades,i=e.id,o=e.tags,l=e.toggleState,u=r.map(Number).reduce((function(e,t){return e+t}),0)/r.length,d=r.map((function(e,t){return Object(T.jsxs)("li",{"data-testid":"grade-".concat(i),className:"test-container",children:[Object(T.jsx)("span",{className:"testNumber",children:"Test ".concat(t+1,":")}),Object(T.jsx)("span",{className:"testValue",children:"".concat(e,"%")})]},t)}));return Object(T.jsxs)("main",{"data-testid":"student-".concat(i),className:"card",children:[Object(T.jsx)(k,{pic:t}),Object(T.jsx)(D,{fullName:a,email:n,company:c,skill:s,id:i,average:u,testGrades:d,tags:o,toggleState:l}),Object(T.jsx)(_,{id:i,toggleState:l})]})},U=(a(46),function(e){var t=e.searchName,a=e.searchTag,n=e.students,c=G(n,t);return I(c,a)}),G=function(e,t){return t?e.filter((function(e){return e.fullName.toLowerCase().includes(t.toLowerCase())})):e},I=function(e,t){return t?e.filter((function(e){var a=e.tags;return!!a&&a.some((function(e){return e.toLowerCase().includes(t.toLowerCase())}))})):e},F=function(){var e=c.a.useContext(S).state,t=e.students,a=e.searchName,n=e.searchTag,s=U({searchName:a,searchTag:n,students:t});return Object(T.jsx)("section",{className:"container",children:s.map((function(e,t){return Object(T.jsx)(L,{pic:e.pic,fullName:e.fullName,email:e.email,company:e.company,skill:e.skill,grades:e.grades,id:e.id,tags:e.tags,toggleState:e.toggleState},t)}))})},P=function(){return Object(T.jsxs)("main",{"data-testid":"app",className:"App",children:[Object(T.jsx)(A,{}),Object(T.jsx)(E,{}),Object(T.jsx)(F,{})]})},R=(a(47),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,49)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))});r.a.render(Object(T.jsx)(c.a.StrictMode,{children:Object(T.jsx)(C,{children:Object(T.jsx)(P,{})})}),document.getElementById("root")),R()},5:function(e,t,a){}},[[48,1,2]]]);
//# sourceMappingURL=main.1d7e8488.chunk.js.map